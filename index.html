
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>Mandelbrot Fractal Generator</title>
  <style>
    body {
      font-family: Arial;
      margin: 0;
      background: #111;
      color: #eee;

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;

      min-height: 100vh;
    }


    .container {
      width: 400px;
      margin-top: 30px;
    }

    input {
      width: 100%;
      padding: 6px;
      margin-bottom: 8px;
      border: none;
      border-radius: 4px;
    }

    button {
      width: 100%;
      padding: 10px;
      background: #4ec9ff;
      border: none;
      color: black;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background: #2aa0d9;
    }

    #fractal-img {
      margin-top: 30px;
      max-width: 90%;
      border: 2px solid #444;
      display: block;
    }
  </style>
</head>

<body>

  <h1>Mandelbrot Fractal Generator</h1>

  <div class="container">
    <label>가로(width)</label>
    <input id="width" type="number" value="1200">

    <label>세로(height)</label>
    <input id="height" type="number" value="800">

    <label>반복 횟수(max_iter)</label>
    <input id="max_iter" type="number" value="200">

    <label>x_min / x_max</label>
    <input id="x_min" type="number" step="0.01" value="-2.5">
    <input id="x_max" type="number" step="0.01" value="1.0">

    <label>y_min / y_max</label>
    <input id="y_min" type="number" step="0.01" value="-1.25">
    <input id="y_max" type="number" step="0.01" value="1.25">

    <label>cmap (matplotlib colormap)</label>
    <input id="cmap" type="text" value="magma">

    <button onclick="generateFractal()">프랙탈 생성</button>
    <img id="fractal-img" src="" alt="Fractal will appear here">
  </div>



  <script>
    function generateFractal() {
      const data = {
        width: document.getElementById("width").value,
        height: document.getElementById("height").value,
        max_iter: document.getElementById("max_iter").value,
        x_min: document.getElementById("x_min").value,
        x_max: document.getElementById("x_max").value,
        y_min: document.getElementById("y_min").value,
        y_max: document.getElementById("y_max").value,
        cmap: document.getElementById("cmap").value
      };

      fetch("http://127.0.0.1:5000/mandelbrot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      })
        .then(res => res.json())
        .then(json => {
          document.getElementById("fractal-img").src =
            "data:image/png;base64," + json.image;
        })
        .catch(err => alert("오류 발생: " + err));
    }
  </script>

</body>

</html>
